---
import { IoArrowForwardOutline } from "react-icons/io5";
import scrollReveal from "scrollreveal";
---

<div class="w-full flex flex-col items-center justify-center p-20 bg-white">
    <div class="flex flex-col items-center justify-center gap-16 mb-12">
        <h1 class="text-6xl font-medium">Portafolio</h1>
        <p class="text-lg font-normal text-center">
            Una muestra de los dispositivos, aplicaciones <br />y sitios web que
            hemos creado
        </p>
    </div>
    <div
        class="flex py-1 px-1 items-center rounded-md justify-center border border-gray-300/40 mb-16"
        id="TabGrl"
    >
        <div class="flex w-[400px] h-[40px] rounded-md relative" id="Tab">
            <div
                class="absolute top-[0%] h-[100%] bg-[#121212] rounded-md w-1/3 transition-all duration-300 left-0 z-0"
            >
            </div>
            <button
                class="w-1/3 relative z-10 transition-colors text-white cursor-pointer"
            >
                <span>Dispositivos</span></button
            >
            <button
                class="w-1/3 relative z-10 transition-colors text-black cursor-pointer"
            >
                <span>Aplicaciones</span></button
            >
            <button
                class="w-1/3 relative z-10 transition-colors text-black cursor-pointer"
            >
                <span>Sitios Web</span></button
            >
        </div>
    </div>

    <div id="Dispositivos" class="flex flex-wrap gap-x-8 gap-y-9 w-[80%]">
        <a href="#" class="flex-1 basis-[calc(50%-1rem)] h-[450px] bg-stone-300/50 text-white text-xs font-medium rounded-3xl text-center">
          Dispositivo 1
        </a>
        <a href="#" class="flex-1 basis-[calc(50%-1rem)] h-[450px] bg-stone-300/50 text-white text-xs font-medium rounded-3xl text-center">
          Dispositivo 2
        </a>
        <a href="#" class="flex-1 basis-[calc(50%-1rem)] h-[450px] bg-stone-300/50 text-white text-xs font-medium rounded-3xl text-center ">
          Dispositivo 3
        </a>
        <a href="#" class="flex-1 basis-[calc(50%-1rem)] h-[450px] bg-stone-300/50 text-white text-xs font-medium rounded-3xl text-center">
          Dispositivo 4
        </a>
      </div>
      
    
    <div id="PaginasWeb" class="hidden flex-wrap gap-x-8 gap-y-9 w-[80%]">
        <a href="#" class="flex-1 basis-[calc(50%-1rem)] h-[450px] bg-stone-300/50 text-white text-xs font-medium rounded-3xl text-center">
            Pagina Web 1
          </a>
          <a href="#" class="flex-1 basis-[calc(50%-1rem)] h-[450px] bg-stone-300/50 text-white text-xs font-medium rounded-3xl text-center">
            Pagina Web 2
          </a>
          <a href="#" class="flex-1 basis-[calc(50%-1rem)] h-[450px] bg-stone-300/50 text-white text-xs font-medium rounded-3xl text-center ">
            Dispositivo 3
          </a>
          <a href="#" class="flex-1 basis-[calc(50%-1rem)] h-[450px] bg-stone-300/50 text-white text-xs font-medium rounded-3xl text-center">
            Dispositivo 4
          </a>
    </div>
    <div id="Aplicaciones" class="hidden flex-wrap gap-x-8 gap-y-9 w-[80%]">
        <a href="#" class="flex-1 basis-[calc(50%-1rem)] h-[450px] bg-stone-300/50 text-white text-xs font-medium rounded-3xl text-center">
            Aplicacion 1
          </a>
          <a href="#" class="flex-1 basis-[calc(50%-1rem)] h-[450px] bg-stone-300/50 text-white text-xs font-medium rounded-3xl text-center">
            Aplicacion 2
          </a>
          <a href="#" class="flex-1 basis-[calc(50%-1rem)] h-[450px] bg-stone-300/50 text-white text-xs font-medium rounded-3xl text-center ">
            Dispositivo 3
          </a>
          <a href="#" class="flex-1 basis-[calc(50%-1rem)] h-[450px] bg-stone-300/50 text-white text-xs font-medium rounded-3xl text-center">
            Dispositivo 4
          </a>
    </div>
</div>

<script>
    import ScrollReveal from "scrollreveal";

    const slideUp = {
        distance: "100px",
        origin: "bottom",
        opacity: 0,
        duration: 900,
        easing: "ease-in-out",
        interval: 200,
        reset: true,
        cleanup: true
    };

    const tab = document.getElementById("Tab");
    const TabView = [
        document.getElementById("Dispositivos") as HTMLElement,
        document.getElementById("Aplicaciones") as HTMLElement,
        document.getElementById("PaginasWeb") as HTMLElement,
    ] ;

    if (tab && TabView) {
        const indicator = tab.querySelector(":scope > div") as HTMLElement;
        const buttons = tab.querySelectorAll("button");

        buttons.forEach((button, index) => {
            button.addEventListener("click", () =>
                moveIndicator(index, button),
            );
        });

        function moveIndicator(index: number, activeButton: HTMLElement) {
            if (!indicator) return;

            indicator.style.left = `${index * 33.3333}%`;

            buttons.forEach((btn) => {
                const isActive = btn === activeButton;
                btn.classList.toggle("text-white", isActive);
                btn.classList.toggle("text-black", !isActive);
                btn.classList.toggle("bg-transparent", !isActive);
            });
            
            TabView.forEach((view, i) => {
                if (i === index) {
                    view.classList.remove("hidden");
                    view.classList.add("flex");
                    view.classList.add("opacity-100");
                    view.classList.remove("opacity-0");

                } else {
                    view.classList.add("hidden");
                    view.classList.remove("flex");
                    view.classList.add("opacity-0");
                    view.classList.remove("opacity-100");
                }
            });

        }
    }
    
    
        ScrollReveal().reveal(TabView[0].children,slideUp);
    
</script>