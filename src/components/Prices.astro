---
// Datos de precios organizados por categorías
const pricingData = {
  "Dispositivos": [
    {
      title: "Básico",
      description: "Ideal para prototipos y pruebas de concepto",
      price: "2,500",
      icon: "M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z",
      gradient: "from-green-500 to-emerald-500",
      features: [
        "Sensor básico",
        "Microcontrolador incluido",
        "Código fuente",
        "1 mes de soporte"
      ]
    },
    {
      title: "Profesional",
      description: "Para implementaciones comerciales",
      price: "8,500",
      icon: "M13 10V3L4 14h7v7l9-11h-7z",
      isPopular: true,
      features: [
        "Múltiples sensores",
        "Conectividad Wi-Fi/Bluetooth",
        "Dashboard web incluido",
        "6 meses de soporte"
      ]
    },
    {
      title: "Empresarial",
      description: "Soluciones industriales completas",
      price: "15,000",
      icon: "M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z",
      gradient: "from-purple-500 to-indigo-500",
      features: [
        "Sistema completo IoT",
        "Análisis de datos con IA",
        "App móvil personalizada",
        "Soporte 24/7 por 1 año"
      ]
    }
  ],
  "Aplicaciones": [
    {
      title: "App Básica",
      description: "Aplicación móvil sencilla",
      price: "12,000",
      icon: "M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z",
      gradient: "from-blue-500 to-cyan-500",
      features: [
        "Android & iOS",
        "5 pantallas incluidas",
        "Diseño personalizado",
        "3 meses de soporte"
      ]
    },
    {
      title: "App Premium",
      description: "Aplicación completa con funciones avanzadas",
      price: "25,000",
      icon: "M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z",
      isPopular: true,
      features: [
        "Android, iOS & Web",
        "Pantallas ilimitadas",
        "Base de datos incluida",
        "6 meses de soporte"
      ]
    },
    {
      title: "App Empresarial",
      description: "Solución completa con IA y analytics",
      price: "45,000",
      icon: "M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253",
      gradient: "from-purple-500 to-indigo-500",
      features: [
        "Multiplataforma completa",
        "IA y Machine Learning",
        "API personalizada",
        "Soporte 24/7 por 1 año"
      ]
    }
  ],
  "Sitios Web": [
    {
      title: "Landing Page",
      description: "Sitio web profesional de una página",
      price: "5,500",
      icon: "M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9",
      gradient: "from-green-500 to-emerald-500",
      features: [
        "Diseño responsive",
        "Hosting por 1 año",
        "Dominio incluido",
        "SSL certificado"
      ]
    },
    {
      title: "Sitio Corporativo",
      description: "Sitio web completo con CMS",
      price: "18,000",
      icon: "M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4",
      isPopular: true,
      features: [
        "Hasta 10 páginas",
        "CMS para contenido",
        "SEO optimizado",
        "Google Analytics"
      ]
    },
    {
      title: "E-commerce",
      description: "Tienda online completa",
      price: "35,000",
      icon: "M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z",
      gradient: "from-purple-500 to-indigo-500",
      features: [
        "Catálogo ilimitado",
        "Pagos en línea",
        "Panel de administración",
        "Soporte premium 6 meses"
      ]
    }
  ]
};
---

<div class="w-full bg-gray-50 flex items-center justify-center py-16"> 
    <div class="w-full max-w-7xl px-4 sm:px-6 md:px-8 lg:px-20 flex flex-col gap-16 items-center">
        <!-- Header Section -->
        <div class="text-center mb-8">
            <div class="inline-block mb-4">
                <span class="text-indigo-600 text-sm font-semibold uppercase tracking-wider">
                    Precios Transparentes
                </span>
            </div>
            <h1 class="text-4xl sm:text-5xl lg:text-6xl font-bold text-gray-900 mb-6">
                <span class="text-indigo-600">
                    Servicios y Productos
                </span>
                <br />
                <span class="text-gray-900">a precios accesibles</span>
            </h1>
            <p class="text-base sm:text-lg text-gray-600 max-w-2xl mx-auto leading-relaxed">
                Ofrecemos soluciones tecnológicas de calidad profesional con precios justos y transparentes
            </p>
        </div>
    
        <!-- Tab Navigation -->
        <div class="relative mb-12">
            <div class="flex p-1 items-center justify-center bg-gray-100 rounded-lg w-full max-w-full mx-auto overflow-x-auto">
                <div class="flex min-w-max h-10 md:h-12 rounded-md relative overflow-hidden" id="Tab1">
                    <div id="Indicator" class="absolute top-0 h-full bg-black rounded-md transition-all duration-300 ease-out left-0 z-0" style={`width: ${100 / Object.keys(pricingData).length}%`}></div>
                    {Object.keys(pricingData).map((tabName, index) => (
                        <button class={`tab-btn shrink-0 min-w-[90px] relative z-10 transition-all duration-200 ${index === 0 ? 'text-white' : 'text-gray-600'} text-xs sm:text-sm md:text-base font-medium rounded-md flex items-center justify-center px-3 py-2 whitespace-nowrap`}>
                            <span>{tabName}</span>
                        </button>
                    ))}
                </div>
            </div>
        </div>


    
        <!-- Pricing Cards Container -->
        <div class="relative w-full overflow-hidden pt-4">
            <div id="carousel" class="flex transition-transform duration-500 ease-in-out w-full">
                {Object.entries(pricingData).map(([category, plans]) => (
                    <div class="min-w-full p-2 flex flex-col lg:flex-row justify-center items-stretch gap-6">
                        {plans.map((plan) => (
                            <div class={`w-full lg:w-1/3 bg-white border border-gray-200 rounded-2xl p-8 flex flex-col justify-between transition-all duration-300 ${plan.isPopular ? 'hover:shadow-xl' : 'hover:shadow-lg'}`}>
                                <div>
                                    <div class="text-center mb-6">
                                        <div class={`w-16 h-16 mx-auto mb-4 rounded-xl flex items-center justify-center ${plan.gradient ? `bg-gradient-to-r ${plan.gradient}` : 'bg-black'}`}>
                                            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d={plan.icon}/>
                                            </svg>
                                        </div>
                                        <h3 class="text-2xl font-bold text-gray-900 mb-2">{plan.title}</h3>
                                        <p class="text-gray-600 text-sm mb-4">{plan.description}</p>
                                        <div class="mb-6">
                                            <span class="text-4xl font-bold text-gray-900">${plan.price}</span>
                                            <span class="text-gray-600 text-sm ml-2">MXN</span>
                                        </div>
                                    </div>
                                    
                                    <div class="space-y-4 mb-8">
                                        {plan.features.map((feature) => (
                                            <div class="flex items-center">
                                                <svg class="w-5 h-5 text-green-500 mr-3" fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                                </svg>
                                                <span class="text-gray-700 text-sm">{feature}</span>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                                
                                <a href="#ContactoForm" class={`w-full py-3 px-6 rounded-lg transition-colors duration-200 font-medium text-center block ${plan.isPopular ? 'bg-black hover:bg-gray-800 text-white' : 'bg-gray-900 hover:bg-gray-800 text-white'}`}>
                                    Seleccionar Plan
                                </a>
                            </div>
                        ))}
                    </div>
                ))}
            </div>
        </div>
    </div>
</div>


<script>
    const tab = document.getElementById("Tab1");
    const indicator = document.getElementById("Indicator");
    const carousel = document.getElementById("carousel");

    if (tab && indicator && carousel) {
        const buttons = tab.querySelectorAll("button");
        const totalTabs = buttons.length;

        buttons.forEach((button, index) => {
            button.addEventListener("click", () => moveIndicator(index));
        });

        function moveIndicator(index: number) {
            if (indicator) {
                indicator.style.left = `${(index * 100) / totalTabs}%`;
            }

            buttons.forEach((btn, i) => {
                const isActive = i === index;
                btn.classList.toggle("text-white", isActive);
                btn.classList.toggle("text-gray-600", !isActive);
            });

            if (carousel) {
                carousel.style.transform = `translateX(-${index * 100}%)`;
            }
        }
    }
</script>

<style>
    .tab-btn {
        transition: color 0.2s ease;
    }
</style>
