---
const { Position, Color, Background = "oklch(62.7% 0.194 149.214)", } = Astro.props;

const Location = Position === "TL" ? "top-5 left-0 rounded-r-md" : Position === "TR" ? "top-5 right-0 rounded-l-md" : Position === "BL" ? "bottom-5 left-0 rounded-r-md" : "bottom-5 right-0 rounded-l-md";

---

<h1
  id="DemoTag"
  class={`fixed z-50 ${Location} text-xl py-1.5 px-6 text-center opacity-0 transition-opacity duration-300 tag-hidden`}
  data-position={Position}
  style={`background-color: ${Background}; color: ${Color};`}
>
  Demo
</h1>

<script>
  // Wait for DOM to be fully loaded
  document.addEventListener('DOMContentLoaded', () => {
    const tag = document.getElementById("DemoTag") as HTMLElement;
    let scrollTimeout: NodeJS.Timeout;

    if (!tag) {
      console.error("DemoTag element not found");
      return;
    }


    window.addEventListener("scroll", () => {
      // Show tag when scrolling
      tag.classList.remove('tag-hidden');
      tag.classList.add('tag-visible');
      
      // Clear any existing timeout
      clearTimeout(scrollTimeout);
      
      // Hide tag after user stops scrolling
      scrollTimeout = setTimeout(() => {
        tag.classList.remove('tag-visible');
        tag.classList.add('tag-hidden');
      }, 1000); // Hide after 1 second of no scrolling
      
    });
  });
</script>

<style>
  .tag-hidden {
    opacity: 0 !important;
  }
  
  .tag-visible {
    opacity: 1 !important;
  }
</style>
